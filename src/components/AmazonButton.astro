---
interface Props {
  asin: string;
  label?: string;
  size?: 'small' | 'medium' | 'large';
}

const { asin, label = 'Buy on Amazon', size = 'medium' } = Astro.props;

const sizeClasses = {
  small: 'text-sm px-3 py-2',
  medium: 'text-base px-4 py-3',
  large: 'text-lg px-6 py-4',
};

const amazonUrl = `https://www.amazon.com/dp/${asin}?tag=rootsonrise-20`;
---

<a
  href={amazonUrl}
  target="_blank"
  rel="noopener noreferrer"
  class:list={[
    'amazon-button inline-flex items-center justify-center gap-2 font-semibold rounded transition-all',
    'hover:shadow-md active:scale-95',
    sizeClasses[size]
  ]}
>
  <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
    <path d="M.045 18.02c.072-.116.187-.124.348-.022 3.636 2.11 7.594 3.166 11.87 3.166 2.852 0 5.668-.533 8.447-1.595l.315-.14c.138-.06.234-.1.293-.13.226-.088.39-.046.502.14.112.188.054.39-.14.553-.04.04-.09.08-.15.13-.06.05-.12.1-.19.14-1.77 1.37-3.715 2.37-5.83 3.005-2.116.634-4.19.95-6.224.95-2.22 0-4.39-.37-6.5-1.11-2.11-.74-4.05-1.76-5.82-3.06-.106-.073-.14-.146-.13-.235.013-.09.073-.14.192-.173zM6.438 15.22c.046-.064.14-.103.28-.115.15-.013.25.017.31.088.14.178.315.42.527.74.212.32.395.59.538.81.138.21.23.328.277.355.08.048.18.056.305.028.124-.028.22-.073.292-.136.283-.242.503-.52.658-.832.158-.313.262-.57.313-.77.05-.195.108-.39.173-.585.065-.195.09-.34.07-.435-.06-.238-.26-.38-.603-.428-.54-.068-1.28-.06-2.22.026-.94.088-1.65.188-2.13.304l-.3.074c-.06.018-.13.04-.22.07-.09.028-.14.045-.16.054-.06.03-.09.08-.1.155-.01.07.03.13.12.175.36.2.74.335 1.14.41.4.07.8.09 1.22.05.42-.04.84-.128 1.26-.268.09-.025.17-.065.24-.12zm8.164-2.1c-.04-.055-.11-.1-.21-.13-.09-.03-.19-.03-.3-.01-.11.02-.23.05-.37.1-.135.045-.26.11-.37.18-.24.15-.53.34-.86.57-.34.23-.62.44-.86.63-.24.19-.41.34-.53.46l-.07.07c-.1.1-.17.22-.2.36-.03.14 0 .26.08.36.08.1.2.17.36.2.16.03.32.01.5-.04l.1-.03c.12-.04.23-.09.33-.16.1-.06.21-.15.33-.25.12-.1.22-.19.3-.27.08-.08.15-.15.21-.21.06-.06.1-.09.12-.1l.07-.06c.1-.09.2-.17.3-.25.1-.08.17-.13.19-.15.09-.07.17-.16.24-.25.06-.1.08-.18.05-.25-.03-.07-.1-.12-.21-.15-.1-.04-.23-.03-.4.01l-.07.02c-.2.06-.36.13-.5.21-.14.08-.28.18-.42.29-.14.11-.23.19-.28.24l-.04.04c-.15.15-.27.27-.35.35-.08.09-.14.15-.17.17-.02.02-.04.02-.06.02-.02 0-.03 0-.04-.02-.01-.01 0-.05.02-.1.02-.06.04-.12.06-.2.02-.07.05-.15.08-.23.03-.08.04-.14.04-.17 0-.03.01-.06.03-.08.02-.03.04-.06.06-.08l.04-.05c.03-.03.08-.08.14-.15.07-.07.13-.13.19-.2.06-.06.13-.14.22-.24.08-.09.14-.17.18-.22.04-.05.07-.1.08-.15.02-.04.02-.08 0-.1-.01-.03-.04-.04-.08-.05-.04-.01-.09 0-.14.02l-.16.05c-.07.02-.12.04-.16.06l-.08.03c-.15.06-.3.15-.44.26-.14.11-.27.23-.39.35-.12.12-.22.24-.3.34-.08.1-.14.18-.18.24l-.03.04c-.02.03-.06.08-.1.15-.04.08-.08.15-.1.22-.03.07-.04.14-.05.21-.01.07 0 .12.02.17.03.04.08.08.16.1.08.02.17.03.28.02.11 0 .23-.03.36-.07.13-.04.25-.08.36-.13.12-.05.21-.1.28-.15l.06-.04c.18-.12.37-.25.58-.4.21-.15.4-.29.57-.42.17-.13.31-.26.43-.37.12-.12.19-.2.22-.25.03-.04.05-.1.05-.18 0-.08-.02-.14-.06-.2z"/>
  </svg>
  {label}
</a>
